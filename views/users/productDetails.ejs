<!DOCTYPE html>
<html lang="zxx" class="no-js">

<head>
	<!-- Mobile Specific Meta -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Favicon-->
	<link rel="shortcut icon" href="img/fav.png">
	<!-- Author Meta -->
	<meta name="author" content="CodePixar">
	<!-- Meta Description -->
	<meta name="description" content="">
	<!-- Meta Keyword -->
	<meta name="keywords" content="">
	<!-- meta character set -->
	<meta charset="UTF-8">
	<!-- Site Title -->
	<title>Smart Wrist</title>
	<!--
			CSS
			============================================= -->
	<link rel="stylesheet" href="../fe/css/linearicons.css">
	<link rel="stylesheet" href="../fe/css/font-awesome.min.css">
	<link rel="stylesheet" href="../fe/css/themify-icons.css">
	<link rel="stylesheet" href="../fe/css/bootstrap.css">
	<link rel="stylesheet" href="../fe/css/owl.carousel.css">
	<link rel="stylesheet" href="../fe/css/nice-select.css">
	<link rel="stylesheet" href="../fe/css/nouislider.min.css">
	<link rel="stylesheet" href="../fe/css/ion.rangeSlider.css" />
	<link rel="stylesheet" href="../fe/css/ion.rangeSlider.skinFlat.css" />
	<link rel="stylesheet" href="../fe/css/main.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.5/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.5/dist/sweetalert2.min.js"></script>


  <style>
	.tooltip-ellipsis {
  position: relative;
  display: inline-block;
  max-width: 350px; /* Adjust the maximum width as needed */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.tooltip-ellipsis:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}

.tooltiptext {
  visibility: hidden;
  background-color: black;
  color: white;
  text-align: center;
  border-radius: 6px;
  padding: 5px;
  position: absolute;
  z-index: 1;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
  transition: opacity 0.3s;
}

  </style>



 

</head>

<body>

	<!-- Start Header Area -->
    <%- include('../layouts/newUH.ejs') %>	

	<!-- End Header Area -->

	<!-- Start Banner Area -->

	<!-- End Banner Area -->

	<!--================Single Product Area =================-->

	<div class="product_image_area">
		<div class="container">
			<div class="row s_product_inner">
				<div class="col-lg-6">
					<div class="s_Product_carousel">
						<div class="single-prd-item">
							<div class="zoom-image-container">
								<img class="img-fluid zoom-image" src="../product-images/<%= product.images[0]%>" alt="">
							</div>
						</div>
	
						<div class="single-prd-item">
							<div class="zoom-image-container">
								<img class="img-fluid zoom-image" src="../product-images/<%= product.images[1]%>" alt="">
							</div>
							
						</div>
						<div class="single-prd-item">
							<div class="zoom-image-container">
								<img class="img-fluid zoom-image" src="../product-images/<%= product.images[2]%>" alt="">
							</div>
							
			            </div>
						
					</div>
				</div>
				<div class="col-lg-5 offset-lg-1">
					<div class="s_product_text">
						<h3 class="tooltip-ellipsis" title="<%= product.name %>">
							<%= product.name %>
							<span class="tooltiptext"><%= product.name %></span>
						</h3>


						<h2><i class="fa fa-inr" aria-hidden="true"></i> <%=product.price%></h2>
						<ul class="list">
							<li><a class="active" href="#"><span>Category</span> <%= categoryData.name %></a></li>
							<li><a href="#"><span>Availibility</span> : In Stock</a></li>
						</ul>
						<p><%=product.description%></p>
						<div class="product_count">
                            <label for="qty">Quantity:</label>
                            <input type="number" name="qty" id="qty" min="1" max="999" value="1" title="Quantity:" class="input-text qty">
                            <button onclick="increaseQty()" class="increase items-count" type="button"><i class="lnr lnr-chevron-up"></i></button>
                            <button onclick="decreaseQty()" class="reduced items-count" type="button"><i class="lnr lnr-chevron-down"></i></button>
                        </div>
                        
                        
						<div class="card_area d-flex align-items-center">
                            <button class="primary-btn" onclick="addToCart('<%=product._id%>' , '<%=product.name%>' )">Add to Cart</button>
                            <a class="icon_btn" href="#"><i class="lnr lnr lnr-diamond"></i></a>
                            <a class="icon_btn" href="#"><i class="lnr lnr lnr-heart"></i></a>
                        </div>
                          
                          <!-- Add a hidden div for the popup window -->
                        <div id="cartPopup" class="popup">
                            <div class="popup-content">
                              <span class="close" onclick="closePopup()">&times;</span>
                              <p id="popupText"></p>
                            </div>
                        </div>
                          






					</div>
				</div>
			</div>
		</div>
	</div>
	<!--================End Single Product Area =================-->

	<!--================Product Description Area =================-->
	
	<!--================End Product Description Area =================-->

	<!-- Start related-product Area -->

	<!-- End related-product Area -->

	<!-- start footer Area -->
	<footer class="footer-area section_gap">
		<div class="container">
			<div class="row">
				<div class="col-lg-3  col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h6>About Us</h6>
						<p>
							Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore dolore
							magna aliqua.
						</p>
					</div>
				</div>
				<div class="col-lg-4  col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h6>Newsletter</h6>
						<p>Stay update with our latest</p>
						<div class="" id="mc_embed_signup">

							<form target="_blank" novalidate="true" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
							 method="get" class="form-inline">

								<div class="d-flex flex-row">

									<input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Email '"
									 required="" type="email">


									<button class="click-btn btn btn-default"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>
									<div style="position: absolute; left: -5000px;">
										<input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text">
									</div>

									<!-- <div class="col-lg-4 col-md-4">
												<button class="bb-btn btn"><span class="lnr lnr-arrow-right"></span></button>
											</div>  -->
								</div>
								<div class="info"></div>
							</form>
						</div>
					</div>
				</div>
				
				<div class="col-lg-2 col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h6>Follow Us</h6>
						<p>Let us be social</p>
						<div class="footer-social d-flex align-items-center">
							<a href="#"><i class="fa fa-facebook"></i></a>
							<a href="#"><i class="fa fa-twitter"></i></a>
							<a href="#"><i class="fa fa-dribbble"></i></a>
							<a href="#"><i class="fa fa-behance"></i></a>
						</div>
					</div>
				</div>
			</div>
		
		</div>
	</footer>
	<!-- End footer Area -->

</body>

<script src="../fe/js/vendor/jquery-2.2.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
 crossorigin="anonymous"></script>

 <script src="../fe/js/popper.min.js"></script>   
 <script src="../fe/js/stellar.js"></script>


<script src="../fe/js/vendor/bootstrap.min.js"></script>
<script src="../fe/js/jquery.ajaxchimp.min.js"></script>
<script src="../fe/js/jquery.nice-select.min.js"></script>
<script src="../fe/js/jquery.sticky.js"></script>
<script src="../fe/js/nouislider.min.js"></script>
<script src="../fe/js/jquery.magnific-popup.min.js"></script>
<script src="../fe/js/owl.carousel.min.js"></script>
<!--gmaps Js-->
<script src="../fe/https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
<script src="../fe/js/gmaps.min.js"></script>

<script src="../fe/js/main.js"></script>




  <script>
    function increaseQty() {
      var qtyInput = document.getElementById('qty');
      var currentQty = parseInt(qtyInput.value);
      if (!isNaN(currentQty)) {
        qtyInput.value = currentQty + 1;
      }
    }
  
    function decreaseQty() {
      var qtyInput = document.getElementById('qty');
      var currentQty = parseInt(qtyInput.value);
      if (!isNaN(currentQty) && currentQty > 1) {
        qtyInput.value = currentQty - 1;
      }
    }
  
    function addToCart(productId,name) {
      var qtyInput = document.getElementById('qty');
      var quantity = parseInt(qtyInput.value);
      console.log(quantity);
      if (!isNaN(quantity) && quantity > 0) {
        var data = {
          productId: productId,
          quantity: quantity,
		  name:name
        };
  
        fetch('/addToCart', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
          .then(function(response) {
            if (response.ok) {
              Swal.fire({
                title: 'Success',
                text: 'Product added to cart',
                icon: 'success',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'View Cart',
                cancelButtonText: 'Continue Shopping'
              }).then(function(result) {
                if (result.isConfirmed) {
                  window.location.href = '/viewCart';
                }
              });
            } else {
              Swal.fire('Error', 'Failed to add product to cart', 'error');
            }
          })
          .catch(function(error) {
            console.log('Error:', error);
            Swal.fire('Error', 'Failed to add product to cart', 'error');
          });
      } else {
        Swal.fire('Error', 'Invalid quantity', 'error');
      }
    }
  </script>


<!-- zoom -->

<script>
	// Function to handle the zoom effect
	function handleZoom(event) {
		const imageContainer = event.currentTarget;
		const image = imageContainer.querySelector('.zoom-image');
		const zoomCircle = imageContainer.querySelector('.zoom-circle');
  
		// Get the position of the mouse pointer relative to the image container
		const rect = imageContainer.getBoundingClientRect();
		const offsetX = event.clientX - rect.left;
		const offsetY = event.clientY - rect.top;
  
		// Calculate the position of the zoom circle and set its size
		const circleSize = 100; // Adjust this value to change the size of the zoom circle
		const circleX = offsetX - circleSize / 2;
		const circleY = offsetY - circleSize / 2;
  
		// Apply the zoom effect by changing the scale of the image and zoom circle
		image.style.transformOrigin = `${offsetX}px ${offsetY}px`;
		image.style.transform = 'scale(2.2)';
  
		zoomCircle.style.width = circleSize + 'px';
		zoomCircle.style.height = circleSize + 'px';
		zoomCircle.style.left = circleX + 'px';
		zoomCircle.style.top = circleY + 'px';
		zoomCircle.style.transform = 'scale(2)'; // Adjust this value to change the zoom circle's zoom level
	}
  
	// Function to reset the zoom effect
	function resetZoom(event) {
		const imageContainer = event.currentTarget;
		const image = imageContainer.querySelector('.zoom-image');
		const zoomCircle = imageContainer.querySelector('.zoom-circle');
  
		image.style.transform = 'scale(1)';
		zoomCircle.style.transform = 'scale(1)';
	}
  
	// Attach event listeners to the image container
	const imageContainers = document.querySelectorAll('.zoom-image-container');
	imageContainers.forEach(container => {
		container.addEventListener('mousemove', handleZoom);
		container.addEventListener('mouseleave', resetZoom);
     });
  </script>
  
  


</html>